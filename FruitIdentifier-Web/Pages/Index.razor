@inject FruitIdentifierService FruitService;

@page "/"

<PageTitle>FruitIdentifier</PageTitle>

<img src="C:\Users\Aramoniax\Desktop\Test images\Bananen-gruen_lead.jpg.935x464_q85.jpg" />
<InputFile OnChange="OnFileChanged"></InputFile>
<pre>Status: @status</pre>
<pre>Result: @result</pre>
<pre>Path: @path</pre>


@code {
    string? status = "Awating image";
    string? result;
    string? path;

    void OnFileChanged(InputFileChangeEventArgs e)
    {
        status = "Getting Image Prediction";
        path = "C:\\Users\\Aramoniax\\Desktop\\Test images\\";
        try
        {
            path += e.File.Name;

            _ = InvokeAsync(StateHasChanged);
            result = FruitService.GetImagePrediction(path);
            status = "Done";
        }
        catch (Exception ex)
        {
            result += "\nError: " + ex.Message;
            _ = InvokeAsync(StateHasChanged);
        }
    }
}